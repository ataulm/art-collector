apply plugin: 'com.android.application'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'kotlin-kapt'

android {
    compileSdkVersion versions.androidSdk.compile

    defaultConfig {
        applicationId 'com.ataulm.artcollector'
        minSdkVersion versions.androidSdk.min
        targetSdkVersion versions.androidSdk.target
        versionCode 1
        versionName '1.0'

        testInstrumentationRunner 'android.support.test.runner.AndroidJUnitRunner'
    }
    buildTypes {
        release {
            minifyEnabled true
            proguardFiles getDefaultProguardFile('proguard-android.txt'),
                    'proguard-rules.pro',
                    'proguard-rules-moshi.pro',
                    'proguard-rules-moshi-kotlin.pro',
                    'proguard-rules-retrofit.pro'
        }
    }
}

dependencies {
    implementation libraries.androidArchLifecycleExtensions
    debugImplementation libraries.chuck
    releaseImplementation libraries.chuckNoOp
    implementation libraries.dagger
    implementation libraries.kotlinStdLib
    implementation libraries.moshi
    implementation libraries.retrofit
    implementation libraries.retrofitMoshi
    implementation libraries.retrofitKotlinCoroutines
    implementation libraries.supportAppCompatV7
    implementation libraries.supportDesign
    implementation libraries.supportRecyclerView
    implementation libraries.supportV13

    kapt libraries.daggerAndroid
    kapt libraries.daggerCompiler
    kapt libraries.moshiKotlinCodegen

    // Android runner and rules support
    androidTestImplementation(libraries.androidTestRunner) {
        exclude group: 'com.android.support', module: 'support-annotations'
    }

    androidTestImplementation(libraries.androidTestRules) {
        exclude group: 'com.android.support', module: 'support-annotations'
    }

    // Espresso support
    androidTestImplementation(libraries.espressoCore) {
        exclude group: 'com.android.support', module: 'support-annotations'
    }

    testImplementation libraries.googleTruth
    testImplementation libraries.jUnit
    testImplementation libraries.mockitoCore
    testImplementation libraries.mockitoKotlin
}
